<header ng-include="'/views/partials/slimHeader.html'"></header>

<div layout="column" layout-align="start start">

    <md-sidenav layout="column" layout-align="start center" md-component-id="left" class="md-sidenav-left" id="side-nav-out">
        <a href="#home">
            <img src="/images/mntf-logo-light.png" height="100">
        </a>
        <br>
        <input ng-model="therapistSearch.full_name" placeholder="search by name">
        <input ng-model="therapistSearch.workplace_street_address" placeholder="filter by city">
        <!-- these need to be built out more once we have issues / fake data -->
        <br>
        <md-button id="close-btn" class="btn-green" layout="column" layout-align="center center" ng-click="sc.openLeftMenu()">CLOSE</md-button>
    </md-sidenav>

    <!-- ^ IF WE WANT SIDEBAR TO START OPEN: md-is-open="dc.startOpen" ^ -->

    <md-content id="side-nav-in" layout="row" layout-align="start center">
        <!-- sidebar -->
        <md-button class="btn-green" ng-click="sc.openLeftMenu()" layout-align="start center">
            filter results
        </md-button>
    </md-content>
</div>
<!-- </div> -->

<!-- <div layout="column" layout-align-"center center">  -->
<div layout="column" layout-align="space-around center" ng-hide="sc.isCarouselView">
    <div layout-wrap layout="row" layout-align="center center" layout-xs="column" layout-s="column" id="directory-grid">
        <div dir-paginate="therapist in sc.searchResults.list | itemsPerPage:8 | filter:therapistSearch">
            <div class="directory-container">
                <div class="directory-profile-photo-container">
                    <a href="" ng-click="sc.showTherapistInfo(therapist)">
                        <img ng-src="{{therapist.profile_picture}}">
                    </a>
                </div>
                <div>
                    <ul>
                        <li class="therapist-name">{{therapist.full_name}}</li>
                        <li class="therapist-title">{{therapist.license_type}}</li>
                    </ul>

                </div>
            </div>
        </div>

    </div>
</div>



<div class="box-container" ng-show="sc.isCarouselView">
    <h1>Your Top Results:</h1>
    <ui-carousel id = "mainCarouselSlide" slides="sc.slides" slides-to-show="1" slides-to-scroll="1" initial-slide="0" autoplay="false" autoplay-speed="2000"
        dots="true">

        <carousel-item class="ui-carousel">
            <div class="md-dialog-content" id = "carouselModalContents">
                <div layout="row">
                    <div id="therapistModalCol1">
                        <div class="therapist-modal-photo-container">
                            <img ng-src="{{item.profile_picture}}">
                        </div>
                        <div layout="column" layout-align="start none">
                            <h4>{{item.workplace_street_address}}</h4>
                        </div>
                    </div>
                    <div id="therapistModalCol2">
                        <h1 class="modal-name">{{item.full_name}}</h1>
                        <strong>
                            <p class="modal-name">{{item.license_type}}</p>
                        </strong>
                        <p>{{item.biography | limitTo:300}}...</p>
                        <h3>Specialties:</h3>
                        <ul id="specialtiesBulletIcon">
                            <li ng-show="item.specialties[0]"><i class="material-icons">stars</i>{{item.specialties[0]}}</li>
                            <li ng-show="item.specialties[1]"><i class="material-icons">stars</i>{{item.specialties[1]}}</li>
                            <li ng-show="item.specialties[2]"><i class="material-icons">stars</i>{{item.specialties[2]}}</li>
                        </ul>

                    </div>
              
                </div>
                <div id="therapist-modal-buttons-carousel" layout="row" layout-align="center center">
                        <button class="btn-dkgrn md-raised" href="#directory/therapists/{{item.id}}"> See full profile </button>
                </div>  
            </div>
        </carousel-item>

        <carousel-prev>

            <button>
                <i class="material-icons">keyboard_arrow_left</i>
            </button>
        </carousel-prev>

        <carousel-next>

            <button>
                <i class="material-icons">keyboard_arrow_right</i>
            </button>
        </carousel-next>
    </ui-carousel>
</div>
        <button ng-click="sc.isCarouselView =!sc.isCarouselView">Show All Results</button>
        <p style="text-align:center;">Not finding what you're looking for? Click
            <a href="/#directory">here</a> for a list of all therapists</p>


        <div layout-margin>
            <div layout="row" layout-align="center center">
                <dir-pagination-controls max-size="5" direction-links="true" boundary-links="false" template-url="/views/partials/dirPagination.tpl.html"
                    auto-hide="true">
                    <dir-pagination-controls>
            </div>
        </div>